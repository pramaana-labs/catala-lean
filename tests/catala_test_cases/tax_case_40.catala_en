> Module Tax_case_40
> Using Sections as Sara

```catala
#[test]
declaration scope TestTaxCase40:
  output computation content Sara.IRCSimplified

scope TestTaxCase40:
  # Alice has paid $3200 to her father Bob for work done from Feb 1st, 2017 to Sep 2nd, 2017, in Baltimore, Maryland, USA. Alice and Charlie got married on April 5th, 2012. Alice and Charlie were legally separated under a decree of divorce on September 16th, 2017. Alice's gross income in 2017 was $756420. Alice takes the standard deduction.

  # How much tax does Alice have to pay in 2017? $279126

  definition computation equals
    let alice equals
      Sara.Individual {
        -- id: 1
        -- is_counterfactual: false
      } in
    let bob equals
      Sara.Individual {
        -- id: 2
        -- is_counterfactual: false
      } in
    let charlie equals
      Sara.Individual {
        -- id: 3
        -- is_counterfactual: false
      } in
    let alice_org equals
      Sara.Organization {
        -- id: 1
        -- organization_type: Sara.OrganizationType.Business
        -- is_counterfactual: false
      } in
    let marriage equals
      Sara.MarriageEvent {
        -- id: 1
        -- spouse1: alice
        -- spouse2: charlie
        -- marriage_date: Date.of_year_month_day of 2012, 4, 5
        -- is_counterfactual: false
      } in
    let divorce equals
      Sara.DivorceOrLegalSeparationEvent {
        -- id: 1
        -- person1: alice
        -- person2: charlie
        -- decree_date: Date.of_year_month_day of 2017, 9, 16
        -- decree_type: Sara.DecreeType.Divorce
        -- is_counterfactual: false
      } in
    let bob_parenthood equals
      Sara.ParenthoodEvent {
        -- id: 1
        -- parent: bob
        -- child: alice
        -- start_date: Date.of_year_month_day of 2017, 1, 1
        -- parent_type: Sara.ParentType.Biological
        -- is_counterfactual: false
      } in
    let bob_family_relationship equals
      Sara.FamilyRelationshipEvent {
        -- id: 1
        -- person: alice
        -- relative: bob
        -- start_date: Date.of_year_month_day of 2017, 1, 1
        -- relationship_type: Sara.FamilyRelationshipType.Father
        -- is_counterfactual: false
      } in
    let alice_family_relationship equals
      Sara.FamilyRelationshipEvent {
        -- id: 2
        -- person: bob
        -- relative: alice
        -- start_date: Date.of_year_month_day of 2017, 1, 1
        -- relationship_type: Sara.FamilyRelationshipType.Child
        -- is_counterfactual: false
      } in
    let bob_employment equals
      Sara.EmploymentRelationshipEvent {
        -- id: 1
        -- employer: alice_org
        -- employee: bob
        -- start_date: Date.of_year_month_day of 2017, 2, 1
        -- end_date: Date.of_year_month_day of 2017, 9, 2
        -- employment_category: Sara.EmploymentCategory.General
        -- service_location: Sara.ServiceLocation.WithinUnitedStates
        -- is_american_employer: true
        -- employee_is_us_citizen: true
        -- is_counterfactual: false
      } in
    let bob_wage_payment equals
      Sara.WagePaymentEvent {
        -- id: 1
        -- employer: alice_org
        -- employee: bob
        -- payment_date: Date.of_year_month_day of 2017, 9, 2
        -- amount: $3200
        -- payment_medium: Sara.PaymentMedium.Cash
        -- payment_reason: Sara.PaymentReason.RegularCompensation
        -- is_under_plan_or_system: false
        -- is_for_employee_generally: false
        -- is_for_class_of_employees: false
        -- is_for_dependents: false
        -- is_not_in_course_of_trade_or_business: false
        -- would_have_been_paid_without_termination: false
        -- is_paid_to_survivor_or_estate: false
        -- is_counterfactual: false
      } in
    let alice_income equals
      Sara.IncomeEvent {
        -- id: 1
        -- individual: alice
        -- tax_year: 2017
        -- has_income: true
        -- earned_income: $756420
        -- is_counterfactual: false
      } in
    let alice_tax_return_event equals
      Sara.TaxReturnEvent {
        -- id: 1
        -- individual: alice
        -- tax_year: 2017
        -- filed_joint_return: false
        -- is_only_for_refund_claim: false
        -- qualifying_children: []
        -- dependents: []
        -- is_counterfactual: false
      } in
    let charlie_tax_return_event equals
      Sara.TaxReturnEvent {
        -- id: 2
        -- individual: charlie
        -- tax_year: 2017
        -- filed_joint_return: false
        -- is_only_for_refund_claim: false
        -- qualifying_children: []
        -- dependents: []
        -- is_counterfactual: false
      } in
    let married_filing_separate_variant equals
      Sara.MarriedFilingSeparateVariant {
        -- taxpayer: alice
        -- spouse: charlie
        -- itemization_election: false
        -- spouse_itemization_election: false
        -- is_estate_or_trust: false
        -- is_common_trust_fund: false
        -- is_partnership: false
      } in
    let individual_tax_return equals
      Sara.IndividualTaxReturn {
        -- id: 1
        -- tax_year: 2017
        -- details: Sara.FilingStatusVariant.MarriedFilingSeparate content married_filing_separate_variant
      } in
    let employer_general_variant equals
      Sara.EmployerGeneralVariant {
        -- employer: alice_org
      } in
    let employer_tax_return equals
      Sara.EmployerUnemploymentExciseTaxReturn {
        -- id: 1
        -- tax_year: 2017
        -- details: Sara.EmployerVariant.GeneralEmployer content employer_general_variant
      } in
    let income_events_list equals [ alice_income ] in
    let employment_events_list equals [ bob_employment ] in
    let wage_payment_events_list equals [ bob_wage_payment ] in
    let adjusted_gross_income equals $756420 in
    output of Sara.IRCSimplified with {
      -- individual_tax_return: individual_tax_return
      -- individuals: [ alice ] ++ [ bob ] ++ [ charlie ]
      -- organizations: [ alice_org ]
      -- birth_events: []
      -- blindness_status_events: []
      -- death_events: []
      -- nonresident_alien_status_period_events: []
      -- marriage_events: [ marriage ]
      -- remarriage_events: []
      -- divorce_or_legal_separation_events: [ divorce ]
      -- residence_period_events: []
      -- household_maintenance_events: []
      -- parenthood_events: [ bob_parenthood ]
      -- family_relationship_events: [ bob_family_relationship ] ++ [ alice_family_relationship ]
      -- tax_return_events: [ alice_tax_return_event ] ++ [ charlie_tax_return_event ]
      -- income_events: income_events_list
      -- employment_relationship_events: employment_events_list
      -- wage_payment_events: wage_payment_events_list
      -- student_enrollment_events: []
      -- hospital_patient_events: []
      -- immigration_admission_events: []
      -- employment_termination_events: []
      -- employer_unemployment_excise_tax_return: employer_tax_return
      -- adjusted_gross_income: adjusted_gross_income
    }
  assertion (round of (computation.tax) + round of (computation.employer_unemployment_excise_tax_result.excise_tax) = $279126)
```
