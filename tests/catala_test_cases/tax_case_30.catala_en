> Module Tax_case_30
> Using Sections as Sara

```catala
#[test]
declaration scope TestTaxCase30:
  output computation content Sara.IRCSimplified

scope TestTaxCase30:
  # Alice's gross income for the year 2017 is $6662, Bob's income is $17896. Alice and Bob got married on Feb 3rd, 1992. From 2004 to 2019, Bob furnished the costs of maintaining the home where he and Alice lived during that time. In 2017, Alice and Bob file separate returns, and they both take the standard deduction.

  # How much tax does Alice have to pay in 2017? $249

  definition computation equals
    let alice equals
      Sara.Individual {
        -- id: 1
        -- is_counterfactual: false
      } in
    let bob equals
      Sara.Individual {
        -- id: 2
        -- is_counterfactual: false
      } in
    let marriage equals
      Sara.MarriageEvent {
        -- id: 1
        -- spouse1: alice
        -- spouse2: bob
        -- marriage_date: Date.of_year_month_day of 1992, 2, 3
        -- is_counterfactual: false
      } in
    let household equals
      Sara.Household {
        -- id: 1
        -- is_counterfactual: false
      } in
    let alice_residence equals
      Sara.ResidencePeriodEvent {
        -- id: 1
        -- individual: alice
        -- household: household
        -- start_date: Date.of_year_month_day of 2004, 1, 1
        -- end_date: Date.of_year_month_day of 2019, 12, 31
        -- is_member_of_household: true
        -- is_principal_place_of_abode: true
        -- is_counterfactual: false
      } in
    let bob_residence equals
      Sara.ResidencePeriodEvent {
        -- id: 2
        -- individual: bob
        -- household: household
        -- start_date: Date.of_year_month_day of 2004, 1, 1
        -- end_date: Date.of_year_month_day of 2019, 12, 31
        -- is_member_of_household: true
        -- is_principal_place_of_abode: true
        -- is_counterfactual: false
      } in
    let bob_household_maintenance equals
      Sara.HouseholdMaintenanceEvent {
        -- id: 1
        -- individual: bob
        -- household: household
        -- start_date: Date.of_year_month_day of 2017, 1, 1
        -- end_date: Date.of_year_month_day of 2017, 12, 31
        -- cost_furnished_percentage: 100%
        -- is_counterfactual: false
      } in
    let alice_income equals
      Sara.IncomeEvent {
        -- id: 1
        -- individual: alice
        -- tax_year: 2017
        -- has_income: true
        -- earned_income: $6662
        -- is_counterfactual: false
      } in
    let bob_income equals
      Sara.IncomeEvent {
        -- id: 2
        -- individual: bob
        -- tax_year: 2017
        -- has_income: true
        -- earned_income: $17896
        -- is_counterfactual: false
      } in
    let alice_tax_return_event equals
      Sara.TaxReturnEvent {
        -- id: 1
        -- individual: alice
        -- tax_year: 2017
        -- filed_joint_return: false
        -- is_only_for_refund_claim: false
        -- qualifying_children: []
        -- dependents: []
        -- is_counterfactual: false
      } in
    let bob_tax_return_event equals
      Sara.TaxReturnEvent {
        -- id: 2
        -- individual: bob
        -- tax_year: 2017
        -- filed_joint_return: false
        -- is_only_for_refund_claim: false
        -- qualifying_children: []
        -- dependents: []
        -- is_counterfactual: false
      } in
    let married_filing_separate_variant equals
      Sara.MarriedFilingSeparateVariant {
        -- taxpayer: alice
        -- spouse: bob
        -- itemization_election: false
        -- spouse_itemization_election: false
        -- is_estate_or_trust: false
        -- is_common_trust_fund: false
        -- is_partnership: false
      } in
    let individual_tax_return equals
      Sara.IndividualTaxReturn {
        -- id: 1
        -- tax_year: 2017
        -- details: Sara.FilingStatusVariant.MarriedFilingSeparate content married_filing_separate_variant
      } in
    let dummy_org equals
      Sara.Organization {
        -- id: 0
        -- organization_type: Sara.OrganizationType.Business
        -- is_counterfactual: false
      } in
    let employer_general_variant equals
      Sara.EmployerGeneralVariant {
        -- employer: dummy_org
      } in
    let employer_tax_return equals
      Sara.EmployerUnemploymentExciseTaxReturn {
        -- id: 0
        -- tax_year: 2017
        -- details: Sara.EmployerVariant.GeneralEmployer content employer_general_variant
      } in
    let income_events_list equals [ alice_income ] ++ [ bob_income ] in
    let adjusted_gross_income equals $6662 in
    output of Sara.IRCSimplified with {
      -- individual_tax_return: individual_tax_return
      -- individuals: [ alice ] ++ [ bob ]
      -- organizations: [ dummy_org ]
      -- birth_events: []
      -- blindness_status_events: []
      -- death_events: []
      -- nonresident_alien_status_period_events: []
      -- marriage_events: [ marriage ]
      -- remarriage_events: []
      -- divorce_or_legal_separation_events: []
      -- residence_period_events: [ alice_residence ] ++ [ bob_residence ]
      -- household_maintenance_events: [ bob_household_maintenance ]
      -- parenthood_events: []
      -- family_relationship_events: []
      -- tax_return_events: [ alice_tax_return_event ] ++ [ bob_tax_return_event ]
      -- income_events: income_events_list
      -- employment_relationship_events: []
      -- wage_payment_events: []
      -- student_enrollment_events: []
      -- hospital_patient_events: []
      -- immigration_admission_events: []
      -- employment_termination_events: []
      -- employer_unemployment_excise_tax_return: employer_tax_return
      -- adjusted_gross_income: adjusted_gross_income
    }
  assertion (round of computation.tax = $249)
```
