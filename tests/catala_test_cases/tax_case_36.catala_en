> Module Tax_case_36
> Using Sections as Sara

```catala
#[test]
declaration scope TestTaxCase36:
  output computation content Sara.IRCSimplified

scope TestTaxCase36:
  # Alice and Bob got married on Feb 3rd, 1992. Alice and Bob have a child, Charlie, born October 9th, 2000. From 2004 to 2019, Bob furnished the costs of maintaining the home where he and Charlie lived during that time. From 2015 to 2018, Alice had a different principal place of abode. In 2017, Alice was paid $33200, and Bob's income was $32311. Alice was born March 2nd, 1950 and Bob was born March 3rd, 1955. In 2017, Alice and Bob file jointly and take the standard deduction.

  # How much tax does Alice have to pay in 2017? $10018

  definition computation equals
    let alice equals
      Sara.Individual {
        -- id: 1
        -- is_counterfactual: false
      } in
    let bob equals
      Sara.Individual {
        -- id: 2
        -- is_counterfactual: false
      } in
    let charlie equals
      Sara.Individual {
        -- id: 3
        -- is_counterfactual: false
      } in
    let bob_household equals
      Sara.Household {
        -- id: 1
        -- is_counterfactual: false
      } in
    let alice_household equals
      Sara.Household {
        -- id: 2
        -- is_counterfactual: false
      } in
    let alice_birth equals
      Sara.BirthEvent {
        -- id: 1
        -- individual: alice
        -- birth_date: Date.of_year_month_day of 1950, 3, 2
        -- is_counterfactual: false
      } in
    let bob_birth equals
      Sara.BirthEvent {
        -- id: 2
        -- individual: bob
        -- birth_date: Date.of_year_month_day of 1955, 3, 3
        -- is_counterfactual: false
      } in
    let charlie_birth equals
      Sara.BirthEvent {
        -- id: 3
        -- individual: charlie
        -- birth_date: Date.of_year_month_day of 2000, 10, 9
        -- is_counterfactual: false
      } in
    let marriage equals
      Sara.MarriageEvent {
        -- id: 1
        -- spouse1: alice
        -- spouse2: bob
        -- marriage_date: Date.of_year_month_day of 1992, 2, 3
        -- is_counterfactual: false
      } in
    let alice_parenthood equals
      Sara.ParenthoodEvent {
        -- id: 1
        -- parent: alice
        -- child: charlie
        -- start_date: Date.of_year_month_day of 2000, 10, 9
        -- parent_type: Sara.ParentType.Biological
        -- is_counterfactual: false
      } in
    let bob_parenthood equals
      Sara.ParenthoodEvent {
        -- id: 2
        -- parent: bob
        -- child: charlie
        -- start_date: Date.of_year_month_day of 2000, 10, 9
        -- parent_type: Sara.ParentType.Biological
        -- is_counterfactual: false
      } in
    let alice_family_relationship_1 equals
      Sara.FamilyRelationshipEvent {
        -- id: 1
        -- person: alice
        -- relative: charlie
        -- start_date: Date.of_year_month_day of 2000, 10, 9
        -- relationship_type: Sara.FamilyRelationshipType.Child
        -- is_counterfactual: false
      } in
    let charlie_family_relationship_1 equals
      Sara.FamilyRelationshipEvent {
        -- id: 2
        -- person: charlie
        -- relative: alice
        -- start_date: Date.of_year_month_day of 2000, 10, 9
        -- relationship_type: Sara.FamilyRelationshipType.Mother
        -- is_counterfactual: false
      } in
    let bob_family_relationship_1 equals
      Sara.FamilyRelationshipEvent {
        -- id: 3
        -- person: bob
        -- relative: charlie
        -- start_date: Date.of_year_month_day of 2000, 10, 9
        -- relationship_type: Sara.FamilyRelationshipType.Child
        -- is_counterfactual: false
      } in
    let charlie_family_relationship_2 equals
      Sara.FamilyRelationshipEvent {
        -- id: 4
        -- person: charlie
        -- relative: bob
        -- start_date: Date.of_year_month_day of 2000, 10, 9
        -- relationship_type: Sara.FamilyRelationshipType.Father
        -- is_counterfactual: false
      } in
    let bob_residence equals
      Sara.ResidencePeriodEvent {
        -- id: 1
        -- individual: bob
        -- household: bob_household
        -- start_date: Date.of_year_month_day of 2004, 1, 1
        -- end_date: Date.of_year_month_day of 2019, 12, 31
        -- is_member_of_household: true
        -- is_principal_place_of_abode: true
        -- is_counterfactual: false
      } in
    let charlie_residence equals
      Sara.ResidencePeriodEvent {
        -- id: 2
        -- individual: charlie
        -- household: bob_household
        -- start_date: Date.of_year_month_day of 2004, 1, 1
        -- end_date: Date.of_year_month_day of 2019, 12, 31
        -- is_member_of_household: true
        -- is_principal_place_of_abode: true
        -- is_counterfactual: false
      } in
    let alice_residence equals
      Sara.ResidencePeriodEvent {
        -- id: 3
        -- individual: alice
        -- household: alice_household
        -- start_date: Date.of_year_month_day of 2015, 1, 1
        -- end_date: Date.of_year_month_day of 2018, 12, 31
        -- is_member_of_household: true
        -- is_principal_place_of_abode: true
        -- is_counterfactual: false
      } in
    let bob_household_maintenance equals
      Sara.HouseholdMaintenanceEvent {
        -- id: 1
        -- individual: bob
        -- household: bob_household
        -- start_date: Date.of_year_month_day of 2004, 1, 1
        -- end_date: Date.of_year_month_day of 2019, 12, 31
        -- cost_furnished_percentage: 100.0
        -- is_counterfactual: false
      } in
    let alice_income equals
      Sara.IncomeEvent {
        -- id: 1
        -- individual: alice
        -- tax_year: 2017
        -- has_income: true
        -- earned_income: $33200
        -- is_counterfactual: false
      } in
    let bob_income equals
      Sara.IncomeEvent {
        -- id: 2
        -- individual: bob
        -- tax_year: 2017
        -- has_income: true
        -- earned_income: $32311
        -- is_counterfactual: false
      } in
    let alice_tax_return_event equals
      Sara.TaxReturnEvent {
        -- id: 1
        -- individual: alice
        -- tax_year: 2017
        -- filed_joint_return: true
        -- is_only_for_refund_claim: false
        -- qualifying_children: []
        -- dependents: []
        -- is_counterfactual: false
      } in
    let bob_tax_return_event equals
      Sara.TaxReturnEvent {
        -- id: 2
        -- individual: bob
        -- tax_year: 2017
        -- filed_joint_return: true
        -- is_only_for_refund_claim: false
        -- qualifying_children: []
        -- dependents: []
        -- is_counterfactual: false
      } in
    let joint_return_variant equals
      Sara.JointReturnVariant {
        -- taxpayer: alice
        -- spouse: bob
        -- itemization_election: false
        -- is_estate_or_trust: false
        -- is_common_trust_fund: false
        -- is_partnership: false
      } in
    let individual_tax_return equals
      Sara.IndividualTaxReturn {
        -- id: 1
        -- tax_year: 2017
        -- details: Sara.FilingStatusVariant.JointReturn content joint_return_variant
      } in
    let dummy_org equals
      Sara.Organization {
        -- id: 0
        -- organization_type: Sara.OrganizationType.Business
        -- is_counterfactual: false
      } in
    let employer_general_variant equals
      Sara.EmployerGeneralVariant {
        -- employer: dummy_org
      } in
    let employer_tax_return equals
      Sara.EmployerUnemploymentExciseTaxReturn {
        -- id: 0
        -- tax_year: 2017
        -- details: Sara.EmployerVariant.GeneralEmployer content employer_general_variant
      } in
    let income_events_list equals [ alice_income ] ++ [ bob_income ] in
    let adjusted_gross_income equals $65511 in
    output of Sara.IRCSimplified with {
      -- individual_tax_return: individual_tax_return
      -- individuals: [ alice ] ++ [ bob ] ++ [ charlie ]
      -- organizations: [ dummy_org ]
      -- birth_events: [ alice_birth ] ++ [ bob_birth ] ++ [ charlie_birth ]
      -- blindness_status_events: []
      -- death_events: []
      -- nonresident_alien_status_period_events: []
      -- marriage_events: [ marriage ]
      -- remarriage_events: []
      -- divorce_or_legal_separation_events: []
      -- residence_period_events: [ bob_residence ] ++ [ charlie_residence ] ++ [ alice_residence ]
      -- household_maintenance_events: [ bob_household_maintenance ]
      -- parenthood_events: [ alice_parenthood ] ++ [ bob_parenthood ]
      -- family_relationship_events: [ alice_family_relationship_1 ] ++ [ charlie_family_relationship_1 ] ++ [ bob_family_relationship_1 ] ++ [ charlie_family_relationship_2 ]
      -- tax_return_events: [ alice_tax_return_event ] ++ [ bob_tax_return_event ]
      -- income_events: income_events_list
      -- employment_relationship_events: []
      -- wage_payment_events: []
      -- student_enrollment_events: []
      -- hospital_patient_events: []
      -- immigration_admission_events: []
      -- employment_termination_events: []
      -- employer_unemployment_excise_tax_return: employer_tax_return
      -- adjusted_gross_income: adjusted_gross_income
    }
  assertion (round of computation.tax = $10018)
```
