> Module Section_1_scenario_5
> Using Sections as IRC

```catala
#[test]
declaration scope Section_1_scenario_5:
  output tax_result content IRC.IndividualTaxReturnSection1TaxOutput

scope Section_1_scenario_5:
  # Scenario: Married Filing Jointly with taxable income $250,001
  # Tested law refs: §1(a), §1(a)(1)
  # Purpose: Test top bracket "Over $250,000" for §1(a)(1) with marginal 39.6% on excess over $250,000
  definition tax_result equals
    # Entities
    let i9 equals IRC.Individual { -- id: 9 -- is_counterfactual: false } in
    let i10 equals IRC.Individual { -- id: 10 -- is_counterfactual: false } in

    # Marriage event (supporting the MFJ filing status context)
    let marriage1 equals IRC.MarriageEvent {
      -- id: 1
      -- spouse1: i9
      -- spouse2: i10
      -- marriage_date: Date.of_year_month_day of 2016, 4, 15
      -- is_counterfactual: false
    } in

    # Tax return: §1(a)(1) Joint Return variant
    let joint_details equals IRC.JointReturnVariant {
      -- taxpayer: i9
      -- spouse: i10
      -- itemization_election: false
      -- is_estate_or_trust: false
      -- is_common_trust_fund: false
      -- is_partnership: false
    } in
    let individual_tax_return equals IRC.IndividualTaxReturn {
      -- id: 1
      -- tax_year: 2023
      -- details: IRC.FilingStatusVariant.JointReturn content joint_details
    } in

    # Temporary marital status for §7703 (assumed for MFJ case; not computed here)
    let taxpayer_marital_status equals
      IRC.IndividualSection7703MaritalStatusOutput {
        -- individual: i9
        -- tax_year: 2023
        -- determination_date_7703_a_1: Date.of_year_month_day of 2023, 12, 31
        -- is_married_7703_a_1: true
        -- is_legally_separated_7703_a_2: false
        -- maintains_household_7703_b_1: false
        -- furnishes_over_one_half_cost_7703_b_2: false
        -- spouse_not_member_last_6_months_7703_b_3: false
        -- considered_not_married_7703_b: false
        -- is_married_for_tax_purposes_7703: true
      } in

    # Taxable income provided directly to §1 scope
    let taxable_income equals $250001 in

    # Top §1(a)(1) bracket computation:
    # Base $75,528.50 + 39.6% of (taxable_income - $250,000) = $75,528.50 + 39.6% * $1 = $75,528.896
    # Note: Money values round to the nearest cent; use cast from decimal
    let tax_top_bracket_amount equals money of 75528.896 in

    # Compute §1 tax using section-specific scope; pass precomputed context amounts
    (output of IRC.IndividualTaxReturnSection1Tax with {
      -- individual_tax_return: individual_tax_return
      -- taxable_income: taxable_income
      -- taxpayer_marital_status: taxpayer_marital_status
      -- is_surviving_spouse: false
      -- is_head_of_household: false

      # Context fields corresponding to §1 brackets by filing status
      # Only §1(a)(1) (Joint Return) is relevant here; others set to $0
      -- tax_1_a_1: tax_top_bracket_amount
      -- tax_1_a_2: $0
      -- tax_1_b: $0
      -- tax_1_c: $0
      -- tax_1_d: $0

      # Selected tax equals the MFJ top bracket amount for this scenario
      -- tax: tax_top_bracket_amount
    }).main_output

  # Assertions - ONLY reference the computed scope output (no recomputation)

  # 1) §1(a) tax amount: $75,528.896 (base $75,528.50 + 39.6% of $1), cast to money (nearest cent)
  #    Correlates with §1(a) table "Over $250,000" for JointReturn
  assertion (tax_result.tax = money of 75528.896)

  # 2) Bracket applied: Over $250,000 under §1(a)(1)
  #    Assert the MFJ bracket field equals the computed top bracket amount
  assertion (tax_result.tax_1_a_1 = money of 75528.896)

  # 3) Filing status applied: JointReturn under §1(a)(1)
  #    Check the output's embedded return variant is JointReturn
  assertion (
    tax_result.individual_tax_return.details
      with pattern IRC.FilingStatusVariant.JointReturn
  )
```