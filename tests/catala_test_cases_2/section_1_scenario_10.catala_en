> Module Section_1_scenario_10
> Using Sections as IRC

```catala
#[test]
declaration scope Section_1_scenario_10:
  output tax_result content IRC.IndividualTaxReturnSection1TaxOutput

scope Section_1_scenario_10:
  # Scenario: §1(b) Heads of households
  # Tested law refs: §1(b)
  # Purpose: Head of household with taxable income exactly $250,000, testing the boundary at the top of the fourth §1(b) bracket and confirming the base $77,485.

  # Single definition per the critical requirement
  definition tax_result equals
    # Entities
    let hho4 equals IRC.Individual { -- id: 1 -- is_counterfactual: false } in
    let c4 equals IRC.Individual { -- id: 2 -- is_counterfactual: false } in
    let hh4 equals IRC.Household { -- id: 1 -- is_counterfactual: false } in

    # Residence for qualifying person at the taxpayer's home for the full year (supports HOH context)
    let res_c4 equals IRC.ResidencePeriodEvent {
      -- id: 1
      -- individual: c4
      -- household: hh4
      -- start_date: Date.of_year_month_day of 2023, 1, 1
      -- end_date: Date.of_year_month_day of 2023, 12, 31
      -- is_member_of_household: true
      -- is_principal_place_of_abode: true
      -- is_counterfactual: false
    } in

    # Taxpayer furnishes over half of the household cost (65%)
    let hm_hho4 equals IRC.HouseholdMaintenanceEvent {
      -- id: 1
      -- individual: hho4
      -- household: hh4
      -- start_date: Date.of_year_month_day of 2023, 1, 1
      -- end_date: Date.of_year_month_day of 2023, 12, 31
      -- cost_furnished_percentage: 0.65
      -- is_counterfactual: false
    } in

    # Family relationship: taxpayer is parent of qualifying person (child)
    let fam_hho4_c4 equals IRC.FamilyRelationshipEvent {
      -- id: 1
      -- person: hho4
      -- relative: c4
      -- start_date: Date.of_year_month_day of 2009, 9, 1
      -- relationship_type: IRC.FamilyRelationshipType.Child
      -- is_counterfactual: false
    } in

    # Individual tax return set to HeadOfHousehold filing status under §1(b)
    let hoh_variant equals IRC.HeadOfHouseholdVariant {
      -- taxpayer: hho4
      -- qualifying_person: c4
      -- itemization_election: false
      -- is_estate_or_trust: false
      -- is_common_trust_fund: false
      -- is_partnership: false
    } in
    let individual_tax_return equals IRC.IndividualTaxReturn {
      -- id: 1
      -- tax_year: 2023
      -- details: IRC.FilingStatusVariant.HeadOfHousehold content hoh_variant
    } in

    # Temporary marital status output for §7703 dependency; assume deemed-unmarried context consistent with HOH facts
    let marital_status equals
      IRC.IndividualSection7703MaritalStatusOutput {
        -- individual: hho4
        -- tax_year: 2023
        -- determination_date_7703_a_1: Date.of_year_month_day of 2023, 12, 31
        -- is_married_7703_a_1: false
        -- is_legally_separated_7703_a_2: false
        -- maintains_household_7703_b_1: true
        -- furnishes_over_one_half_cost_7703_b_2: true
        -- spouse_not_member_last_6_months_7703_b_3: true
        -- considered_not_married_7703_b: true
        -- is_married_for_tax_purposes_7703: false
      } in

    # Call §1 tax computation scope using context values to reflect §1(b) bracket and tax
    # At exactly $250,000, §1(b) 4th bracket applies (Over $127,500 but not over $250,000), base $33,385 + 36% of $122,500 = $77,485
    (output of IRC.IndividualTaxReturnSection1Tax with {
      -- individual_tax_return: individual_tax_return
      -- taxable_income: $250000
      -- taxpayer_marital_status: marital_status
      -- is_surviving_spouse: false
      -- is_head_of_household: true

      # Context outputs for §1(b): set only the HeadOfHousehold tax and total tax; others zero
      -- tax_1_a_1: $0
      -- tax_1_a_2: $0
      -- tax_1_b: $77485
      -- tax_1_c: $0
      -- tax_1_d: $0
      -- tax: $77485
    }).main_output

  # Assertions:
  # Tests §1(b): tax amount equals $77,485 for HOH at the top of the fourth bracket (exactly $250,000 taxable income)
  assertion (tax_result.tax = $77485)

  # Tests §1(b) status applied: ensure the filing status in the return is HeadOfHousehold
  assertion (
    match tax_result.individual_tax_return.details with pattern
    -- IRC.FilingStatusVariant.HeadOfHousehold content variant: true
    -- anything: false
  )

  # Tests bracket application under §1(b) by ensuring HOH tax component equals total tax and other status components are zero
  # Confirms application of "Over $127,500 but not over $250,000" boundary with resulting base $77,485
  assertion (tax_result.tax_1_b = $77485)
  assertion (tax_result.tax_1_a_1 = $0)
  assertion (tax_result.tax_1_a_2 = $0)
  assertion (tax_result.tax_1_c = $0)
  assertion (tax_result.tax_1_d = $0)
```