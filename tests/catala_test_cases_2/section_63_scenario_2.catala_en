> Module Section_63_scenario_2
> Using Sections as IRC

```catala
#[test]
declaration scope Section_63_scenario_2:
  output ti_result content IRC.IndividualTaxReturnSection63TaxableIncomeOutput

scope Section_63_scenario_2:
  # Scenario: HOH filer in tax year 2017 with a qualifying child.
  # Tested law refs: §63(c)(1), §63(c)(2)(B)
  # Goal: Validate basic standard deduction for HOH in 2017 ($4,400), with no additional amounts and no 2018–2025 special rules.

  definition ti_result equals
    # Entities
    let i2 equals IRC.Individual { -- id: 1 -- is_counterfactual: false } in
    let c2 equals IRC.Individual { -- id: 2 -- is_counterfactual: false } in
    let h2 equals IRC.Household { -- id: 1 -- is_counterfactual: false } in

    # Events
    let birth_i2 equals IRC.BirthEvent {
      -- id: 1
      -- individual: i2
      -- birth_date: Date.of_year_month_day of 1985, 3, 20
      -- is_counterfactual: false
    } in
    let birth_c2 equals IRC.BirthEvent {
      -- id: 2
      -- individual: c2
      -- birth_date: Date.of_year_month_day of 2010, 7, 15
      -- is_counterfactual: false
    } in

    let res_c2 equals IRC.ResidencePeriodEvent {
      -- id: 1
      -- individual: c2
      -- household: h2
      -- start_date: Date.of_year_month_day of 2017, 1, 1
      -- end_date: Date.of_year_month_day of 2017, 12, 31
      -- is_member_of_household: true
      -- is_principal_place_of_abode: true
      -- is_counterfactual: false
    } in
    let res_i2 equals IRC.ResidencePeriodEvent {
      -- id: 2
      -- individual: i2
      -- household: h2
      -- start_date: Date.of_year_month_day of 2017, 1, 1
      -- end_date: Date.of_year_month_day of 2017, 12, 31
      -- is_member_of_household: true
      -- is_principal_place_of_abode: true
      -- is_counterfactual: false
    } in

    let hm_i2 equals IRC.HouseholdMaintenanceEvent {
      -- id: 1
      -- individual: i2
      -- household: h2
      -- start_date: Date.of_year_month_day of 2017, 1, 1
      -- end_date: Date.of_year_month_day of 2017, 12, 31
      -- cost_furnished_percentage: 0.6
      -- is_counterfactual: false
    } in

    let parent_event equals IRC.ParenthoodEvent {
      -- id: 1
      -- parent: i2
      -- child: c2
      -- start_date: Date.of_year_month_day of 2010, 7, 15
      -- parent_type: IRC.ParentType.Biological
      -- is_counterfactual: false
    } in

    let rel_event equals IRC.FamilyRelationshipEvent {
      -- id: 1
      -- person: i2
      -- relative: c2
      -- start_date: Date.of_year_month_day of 2010, 7, 15
      -- relationship_type: IRC.FamilyRelationshipType.Child
      -- is_counterfactual: false
    } in

    # Tax return (Head of Household for 2017 with qualifying person c2)
    let hoh_details equals IRC.HeadOfHouseholdVariant {
      -- taxpayer: i2
      -- qualifying_person: c2
      -- itemization_election: false
      -- is_estate_or_trust: false
      -- is_common_trust_fund: false
      -- is_partnership: false
    } in
    let individual_tax_return equals IRC.IndividualTaxReturn {
      -- id: 1
      -- tax_year: 2017
      -- details: IRC.FilingStatusVariant.HeadOfHousehold content hoh_details
    } in

    # Temporary outputs for dependent scopes (assumptions consistent with scenario)
    # §7703 marital status (assume unmarried and maintains/furnishes household conditions)
    let marital_status equals
      IRC.IndividualSection7703MaritalStatusOutput {
        -- individual: i2
        -- tax_year: 2017
        -- determination_date_7703_a_1: Date.of_year_month_day of 2017, 12, 31
        -- is_married_7703_a_1: false
        -- is_legally_separated_7703_a_2: false
        -- maintains_household_7703_b_1: true
        -- furnishes_over_one_half_cost_7703_b_2: true
        -- spouse_not_member_last_6_months_7703_b_3: true
        -- considered_not_married_7703_b: true
        -- is_married_for_tax_purposes_7703: false
      } in

    # §68 itemized deductions (not itemizing; set to zero)
    let itemized_result equals
      IRC.IndividualTaxReturnSection68ItemizedDeductionsOutput {
        -- individual_tax_return: individual_tax_return
        -- applicable_amount_68_b_1: $0
        -- three_percent_reduction_68_a_1: $0
        -- eighty_percent_reduction_68_a_2: $0
        -- reduction_amount_68_a: $0
        -- itemized_deductions_after_68: $0
        -- section_not_applicable_68_f: false
      } in

    # §151 exemptions list (placeholder; not used directly for this test)
    let taxpayer_151 equals
      IRC.IndividualSection151ExemptionsListOutput {
        -- individual: i2
        -- spouse_exemption_allowed_151_b: false
        -- individuals_entitled_to_exemptions_under_151: [ i2 ] ++ [ c2 ]
      } in
    let exemptions_list_result equals
      IRC.TaxpayerExemptionsList151Output {
        -- taxpayer_result: taxpayer_151
        -- spouse_result: Absent
        -- individuals_entitled_to_exemptions_under_151: [ i2 ] ++ [ c2 ]
        -- spouse_exemption_allowed_151_b: false
      } in

    # §151 personal exemption (placeholder; not used for standard deduction assertion)
    let personal_exemption_result equals
      IRC.IndividualSection151PersonalExemptionOutput {
        -- individual: i2
        -- exemption_amount_base: $0
        -- exemption_amount_after_disallowance: $0
        -- exemption_amount_after_phaseout: $0
        -- personal_exemptions_deduction_151_a: $0
        -- applicable_percentage_151_d_3_B: 0.0
        -- exemption_amount_zero_151_d_5: false
      } in

    # Compute §63 taxable income / standard deduction with context values set per law
    # §63(c)(2)(B): Basic standard deduction for head of household in 2017 is $4,400
    # §63(c)(1): Standard deduction = basic + additional; here additional = $0 (no aged/blind)
    (output of IRC.IndividualTaxReturnSection63TaxableIncome with {
      -- individual_tax_return: individual_tax_return
      -- birth_events: [ birth_i2 ] ++ [ birth_c2 ]
      -- blindness_status_events: []
      -- death_events: []
      -- income_events: []
      -- tax_return_events: []
      -- nonresident_alien_status_period_events: []
      -- taxpayer_marital_status: marital_status
      -- is_surviving_spouse: false
      -- is_head_of_household: true
      -- taxpayer_exemptions_list_result: exemptions_list_result
      -- taxpayer_exemption_result: personal_exemption_result
      -- adjusted_gross_income: $0
      -- itemized_deductions_result: itemized_result

      # Context assignments to reflect §63 amounts for 2017 HOH
      -- standard_deduction_eligible_63_c_6: true
      -- basic_standard_deduction_63_c_2: $4400
      -- additional_standard_deduction_63_c_3: $0
      -- additional_amount_taxpayer_aged_63_f_1_A: $0
      -- additional_amount_spouse_aged_63_f_1_B: $0
      -- additional_amount_taxpayer_blind_63_f_2_A: $0
      -- additional_amount_spouse_blind_63_f_2_B: $0
      -- standard_deduction_63_c_1: $4400
      -- taxable_income: $0
    }).main_output

  # Assertions:
  # §63(c)(2)(B): Basic standard deduction (HOH, 2017) = $4,400
  assertion (ti_result.basic_standard_deduction_63_c_2_after_c_5 = $4400)

  # §63(c)(1) and §63(f): Additional standard deduction (aged/blind) = $0 (none apply)
  assertion (ti_result.additional_standard_deduction_63_c_3 = $0)

  # §63(c)(1): Standard deduction = basic + additional = $4,400 + $0 = $4,400
  assertion (ti_result.standard_deduction_63_c_1 = $4400)

  # §63(c)(7): Special rules for taxable years 2018–2025 do not apply to 2017
  assertion (IRC.is_tax_year_2018_through_2025 of ti_result.individual_tax_return.tax_year = false)
```