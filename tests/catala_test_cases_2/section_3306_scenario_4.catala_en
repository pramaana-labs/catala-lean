> Module Section_3306_scenario_4
> Using Sections as IRC

```catala
#[test]
declaration scope Section_3306_scenario_4:
  output computation content IRC.IRCSimplified

scope Section_3306_scenario_4:
  # Scenario: Domestic service employer under §3306(a)(3) based on cash wages ≥ $1,000 in the calendar year for domestic service in a local college club.
  # Also tests §3306(c)(2): domestic service employment is included in "employment" because the $1,000 cash threshold is met in the current year.

  definition computation equals
    let i3 equals IRC.Individual { -- id: 1 -- is_counterfactual: false } in

    let org4 equals IRC.Organization {
      -- id: 1
      -- organization_type: IRC.OrganizationType.Club
      -- is_counterfactual: false
    } in

    # Employment relationship: domestic service in the U.S. during June 2024
    let emp_rel1 equals IRC.EmploymentRelationshipEvent {
      -- id: 1
      -- employer: org4
      -- employee: i3
      -- start_date: Date.of_year_month_day of 2024, 6, 1
      -- end_date: Date.of_year_month_day of 2024, 6, 30
      -- employment_category: IRC.EmploymentCategory.DomesticService
      -- service_location: IRC.ServiceLocation.WithinUnitedStates
      -- is_american_employer: false
      -- employee_is_us_citizen: true
      -- is_counterfactual: false
    } in

    # Cash wages of $1,200 paid for domestic service in 2024 (club)
    let wage1 equals IRC.WagePaymentEvent {
      -- id: 1
      -- employer: org4
      -- employee: i3
      -- payment_date: Date.of_year_month_day of 2024, 6, 15
      -- amount: $1200
      -- payment_medium: IRC.PaymentMedium.Cash
      -- payment_reason: IRC.PaymentReason.DomesticServiceNonBusiness
      -- is_under_plan_or_system: false
      -- is_for_employee_generally: false
      -- is_for_class_of_employees: false
      -- is_for_dependents: false
      -- is_not_in_course_of_trade_or_business: false
      -- would_have_been_paid_without_termination: true
      -- is_paid_to_survivor_or_estate: false
      -- is_counterfactual: false
    } in

    # Minimal individual income tax return (required by IRCSimplified)
    let single_details equals IRC.SingleVariant {
      -- taxpayer: i3
      -- itemization_election: false
      -- is_estate_or_trust: false
      -- is_common_trust_fund: false
      -- is_partnership: false
    } in
    let ind_return equals IRC.IndividualTaxReturn {
      -- id: 1
      -- tax_year: 2024
      -- details: IRC.FilingStatusVariant.Single content single_details
    } in

    # FUTA filer return (Domestic Service Employer) for 2024
    let futa_domestic_details equals IRC.EmployerDomesticServiceVariant { -- employer: org4 } in
    let futa_return equals IRC.EmployerUnemploymentExciseTaxReturn {
      -- id: 1
      -- tax_year: 2024
      -- details: IRC.EmployerVariant.DomesticServiceEmployer content futa_domestic_details
    } in

    # Compute via IRCSimplified (single definition), providing required inputs
    output of IRC.IRCSimplified with {
      -- individual_tax_return: ind_return
      -- individuals: [ i3 ]
      -- organizations: [ org4 ]
      -- birth_events: []
      -- blindness_status_events: []
      -- death_events: []
      -- nonresident_alien_status_period_events: []
      -- marriage_events: []
      -- divorce_or_legal_separation_events: []
      -- residence_period_events: []
      -- household_maintenance_events: []
      -- parenthood_events: []
      -- family_relationship_events: []
      -- tax_return_events: []
      -- income_events: []
      -- employment_relationship_events: [ emp_rel1 ]
      -- wage_payment_events: [ wage1 ]
      -- student_enrollment_events: []
      -- hospital_patient_events: []
      -- immigration_admission_events: []
      -- employment_termination_events: []
      -- employer_unemployment_excise_tax_return: futa_return
      -- itemized_deductions: $0
      -- adjusted_gross_income: $0
    }

  # Assertions:

  # employer_status_a3_domestic_cash_wages_threshold_met: true
  # Tests §3306(a)(3): employer status for domestic service in a local college club when cash wages ≥ $1,000 in the year.
  assertion (
    exists status among computation.organization_employer_statuses
      such that status.organization.id = 1
      and status.is_domestic_service_employer = true
  )

  # employment_domestic_included_under_c2: true
  # Tests §3306(c)(2): domestic service is "employment" if the person paid cash remuneration of ≥ $1,000 in the year or preceding year.
  assertion (
    exists res among computation.employment_relationship_employment_results
      such that res.employment_relationship_event.employer.id = 1
      and res.employment_relationship_event.employee.id = 1
      and res.is_employment = true
      and res.is_excluded_domestic_service = false
  )
```